<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Media Manipulation Filter - Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

```
    body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
        padding: 20px;
        color: #333;
    }

    .container {
        max-width: 1200px;
        margin: 0 auto;
    }

    header {
        text-align: center;
        color: white;
        margin-bottom: 40px;
    }

    h1 {
        font-size: 2.5em;
        margin-bottom: 10px;
        text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
    }

    .tagline {
        font-size: 1.2em;
        opacity: 0.95;
    }

    .main-card {
        background: white;
        border-radius: 20px;
        padding: 30px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        margin-bottom: 20px;
    }

    .input-section {
        margin-bottom: 30px;
    }

    label {
        display: block;
        font-weight: 600;
        margin-bottom: 10px;
        font-size: 1.1em;
        color: #555;
    }

    textarea {
        width: 100%;
        padding: 15px;
        border: 2px solid #e0e0e0;
        border-radius: 10px;
        font-size: 16px;
        font-family: inherit;
        resize: vertical;
        min-height: 100px;
        transition: border-color 0.3s;
    }

    textarea:focus {
        outline: none;
        border-color: #667eea;
    }

    .controls {
        display: flex;
        gap: 20px;
        align-items: center;
        margin-bottom: 20px;
        flex-wrap: wrap;
    }

    .filter-intensity {
        display: flex;
        gap: 10px;
        align-items: center;
    }

    .filter-intensity label {
        margin: 0;
        font-weight: normal;
    }

    .radio-group {
        display: flex;
        gap: 15px;
    }

    .radio-group input[type="radio"] {
        margin-right: 5px;
    }

    button {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        padding: 12px 30px;
        border-radius: 25px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.2s, box-shadow 0.2s;
    }

    button:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
    }

    button:active {
        transform: translateY(0);
    }

    .results {
        display: none;
    }

    .results.active {
        display: block;
    }

    .comparison {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-bottom: 30px;
    }

    .comparison-box {
        padding: 20px;
        border-radius: 10px;
        border: 2px solid #e0e0e0;
    }

    .original-box {
        background: #fff5f5;
        border-color: #fc8181;
    }

    .filtered-box {
        background: #f0fff4;
        border-color: #68d391;
    }

    .comparison-box h3 {
        margin-bottom: 15px;
        font-size: 1.2em;
    }

    .headline-text {
        font-size: 1.1em;
        line-height: 1.6;
        margin-bottom: 15px;
    }

    .manipulation-badge {
        display: inline-block;
        background: #fc8181;
        color: white;
        padding: 2px 8px;
        border-radius: 5px;
        font-size: 0.85em;
        font-weight: 600;
        margin: 2px;
    }

    .stats {
        background: #f7fafc;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .stats h4 {
        margin-bottom: 10px;
        color: #667eea;
    }

    .stat-item {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #e0e0e0;
    }

    .stat-item:last-child {
        border-bottom: none;
    }

    .manipulation-list {
        background: #fff5f5;
        padding: 15px;
        border-radius: 10px;
        margin-bottom: 20px;
    }

    .manipulation-list h4 {
        margin-bottom: 10px;
        color: #c53030;
    }

    .manipulation-item {
        padding: 8px 0;
        border-bottom: 1px solid #fed7d7;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .manipulation-item:last-child {
        border-bottom: none;
    }

    .context-questions {
        background: #fffaf0;
        padding: 15px;
        border-radius: 10px;
        border-left: 4px solid #ed8936;
    }

    .context-questions h4 {
        margin-bottom: 10px;
        color: #c05621;
    }

    .context-questions ul {
        margin-left: 20px;
    }

    .context-questions li {
        margin-bottom: 8px;
        line-height: 1.5;
    }

    .examples {
        margin-top: 20px;
    }

    .example-button {
        background: #edf2f7;
        color: #4a5568;
        padding: 8px 15px;
        margin: 5px;
        font-size: 14px;
    }

    .example-button:hover {
        background: #e2e8f0;
        transform: none;
        box-shadow: none;
    }

    @media (max-width: 768px) {
        .comparison {
            grid-template-columns: 1fr;
        }

        h1 {
            font-size: 1.8em;
        }

        .controls {
            flex-direction: column;
            align-items: stretch;
        }
    }
</style>
```

</head>
<body>
    <div class="container">
        <header>
            <h1>üîç Media Manipulation Filter</h1>
            <p class="tagline">See how news headlines manipulate your emotions</p>
        </header>

```
    <div class="main-card">
        <div class="input-section">
            <label for="headline">Enter a news headline:</label>
            <textarea id="headline" placeholder="Paste a manipulative headline here...
```

Example: Trump DESTROYS Biden in EXPLOSIVE debate! Biden STRUGGLES as Trump DOMINATES stage!‚Äù></textarea>
</div>

```
        <div class="controls">
            <div class="filter-intensity">
                <label>Filter Intensity:</label>
                <div class="radio-group">
                    <label><input type="radio" name="intensity" value="light"> Light</label>
                    <label><input type="radio" name="intensity" value="medium" checked> Medium</label>
                    <label><input type="radio" name="intensity" value="heavy"> Heavy</label>
                </div>
            </div>
            <button onclick="filterHeadline()">Filter Headline</button>
        </div>

        <div class="examples">
            <p style="font-weight: 600; margin-bottom: 10px; color: #666;">Try these examples:</p>
            <button class="example-button" onclick="loadExample(0)">Political Debate</button>
            <button class="example-button" onclick="loadExample(1)">Economic News</button>
            <button class="example-button" onclick="loadExample(2)">International Relations</button>
        </div>

        <div class="results" id="results">
            <div class="comparison">
                <div class="comparison-box original-box">
                    <h3>‚ùå Original (Manipulative)</h3>
                    <div class="headline-text" id="original-text"></div>
                    <div id="manipulation-highlights"></div>
                </div>
                <div class="comparison-box filtered-box">
                    <h3>‚úÖ Filtered (Factual)</h3>
                    <div class="headline-text" id="filtered-text"></div>
                </div>
            </div>

            <div class="stats">
                <h4>Analysis</h4>
                <div class="stat-item">
                    <span>Manipulation Words Found:</span>
                    <strong id="manipulation-count">0</strong>
                </div>
                <div class="stat-item">
                    <span>Filter Intensity:</span>
                    <strong id="intensity-used">Medium</strong>
                </div>
                <div class="stat-item">
                    <span>Categories Detected:</span>
                    <strong id="categories-found">None</strong>
                </div>
            </div>

            <div class="manipulation-list" id="manipulation-list-section">
                <h4>Manipulative Words Replaced:</h4>
                <div id="manipulation-details"></div>
            </div>

            <div class="context-questions">
                <h4>ü§î Questions to Ask (Missing Context):</h4>
                <ul id="context-list"></ul>
            </div>
        </div>
    </div>
</div>

<script src="filter.js"></script>
<script>
    const filter = new MediaFilter();

    const examples = [
        "Trump DESTROYS Biden in EXPLOSIVE debate performance! Biden STRUGGLES as Trump DOMINATES stage!",
        "China DEVASTATES US farmers in RUTHLESS economic attack! Soybean prices COLLAPSE as China REFUSES to buy American crops!",
        "Russia THREATENS NATO with CATASTROPHIC consequences! Putin DEMANDS immediate withdrawal in SHOCKING ultimatum!"
    ];

    function loadExample(index) {
        document.getElementById('headline').value = examples[index];
    }

    function filterHeadline() {
        const text = document.getElementById('headline').value.trim();
        
        if (!text) {
            alert('Please enter a headline first!');
            return;
        }

        const intensity = document.querySelector('input[name="intensity"]:checked').value;
        const result = filter.filter(text, intensity);
        const context = filter.getMissingContext(text);

        // Show results section
        document.getElementById('results').classList.add('active');

        // Display comparison
        document.getElementById('original-text').textContent = result.original;
        document.getElementById('filtered-text').textContent = result.filtered;

        // Display manipulation badges
        const highlightsDiv = document.getElementById('manipulation-highlights');
        if (result.manipulationFound.length > 0) {
            highlightsDiv.innerHTML = result.manipulationFound
                .map(m => `<span class="manipulation-badge">${m.word}</span>`)
                .join('');
        } else {
            highlightsDiv.innerHTML = '<p style="color: #68d391; font-weight: 600;">‚úì No manipulation detected</p>';
        }

        // Display stats
        document.getElementById('manipulation-count').textContent = result.manipulationFound.length;
        document.getElementById('intensity-used').textContent = intensity.charAt(0).toUpperCase() + intensity.slice(1);
        document.getElementById('categories-found').textContent = 
            result.categories.length > 0 ? result.categories.join(', ') : 'None';

        // Display manipulation details
        const detailsDiv = document.getElementById('manipulation-details');
        if (result.manipulationFound.length > 0) {
            detailsDiv.innerHTML = result.manipulationFound
                .map(m => `
                    <div class="manipulation-item">
                        <span><strong>${m.word}</strong> ‚Üí ${m.replacement}</span>
                        <span style="color: #a0aec0; font-size: 0.9em;">${m.category}</span>
                    </div>
                `).join('');
        } else {
            detailsDiv.innerHTML = '<p>No manipulative language detected.</p>';
        }

        // Display context questions
        const contextList = document.getElementById('context-list');
        contextList.innerHTML = context.map(q => `<li>${q}</li>`).join('');

        // Scroll to results
        document.getElementById('results').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
    }

    // Allow Enter key to filter
    document.getElementById('headline').addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && e.ctrlKey) {
            filterHeadline();
        }
    });
</script>
```

</body>
</html>
